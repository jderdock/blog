---
import BaseLayout from "../layouts/BaseLayout.astro";
import BlogPost from "../components/BlogPost.astro";
const allPosts = await Astro.glob("../pages/posts/*.md");
allPosts.sort(
  (a, b) => Date.parse(b.frontmatter.date) - Date.parse(a.frontmatter.date)
);
const pageTitle = "Blog";
---

<BaseLayout pageTitle={pageTitle}>
  <h1>{pageTitle}</h1>
  {
    allPosts.map((post) => (
      <BlogPost
        url={post.url}
        title={post.frontmatter.title}
        date={post.frontmatter.date.slice(0, 10)}
      />
    ))
  }
</BaseLayout>
